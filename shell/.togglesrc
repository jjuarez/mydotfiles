#echo "File: ${0}"

toggles::tfenv() {
  command -v tfenv 1>/dev/null 2>&1 && export PATH="${HOME}/.tfenv/bin:${PATH}"
}

toggles::python() {
  export CFLAGS="-O2 -I$(brew --prefix openssl)/include"
  export LDFLAGS="-L$(brew --prefix openssl)/lib"

  command -v pyenv 1>/dev/null 2>&1 && eval "$(pyenv init -)"
}

toggles::node() {
  command -v nodenv 1>/dev/null 2>&1 && eval "$(nodenv init -)"
}

toggles::ruby() {
  command -v rbenv 1>/dev/null 2>&1 && eval "$(rbenv init -)"
}

toggles::go() {
  [[ -s "${HOME}/.gorc" ]] && source "${HOME}/.gorc"
}

toggles::github() {
  [[ -d "${HOME}/.githubrc" ]] && source "${HOME}/.githubrc"
}

toggles::travis() {
  [[ -d "${HOME}/.travis/travis.sh" ]] && source "${HOME}/.travis/travis.sh"
}

toggles::direnv() {
  command -v direnv 1>/dev/null 2>&1 && eval "$(direnv hook zsh)"
}

# ::main::
echo -en "Toggles: "
for feature activated in ${(kv)TOGGLES_CONFIGURATION}; do
  if [ "${activated}" = true ]; then
    echo -en "${feature} "
    toggles::${feature}
  fi
done
echo
